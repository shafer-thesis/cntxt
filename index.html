<!doctype html>
<html ng-app="cntxt" ng-controller="controller">
<!-- load angular -->
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>

<!-- load angular-material js and css -->
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.0-rc5/angular-material.min.css">
<script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.0-rc5/angular-material.min.js"></script>

<!-- load controller.js -->
<script src="controller.js"></script>

<!-- load css -->
<link rel="stylesheet" href="main.css">

<!-- load chart resource -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<!-- twitter api stuff -->
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script src="twitter_api/oauth.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-sanitize.js"></script>
<!-- <script src="twitter_api/app.js"></script> -->
<!-- <script src="twitter_api/controllers.js"></script> -->
<script src="twitter_api/services.js"></script>

    <title>cntxt</title>   
    <body>

    <header>
        <div id="top-bar">
            <h1>cntxt</h1>
            <button ng-click="connectButton()" id="connectButton" type="button" class="btn btn-primary">Sign in with Twitter</button>
            <button ng-click="signOut()" id="signOut" type="button" class="btn btn-primary" style="display:none;">Sign Out</button>
        </div>
     </header>
     <div id="full-container">
        <p>http://www.newstimes.com/local/article/Woman-mistaken-for-transgender-harassed-in-7471666.php</p>
        <input ng-model="url" id="urlInput" placeholder="paste a link here" />
        <input type="button" id ="urlInput-button" ng-click="getAllData()" value="Go" ng-disabled="url == null" />

    <!--     <div ng-repeat="listing in redditResponse.data.children | orderBy: '-data.score' ">
            <h1>{{listing.data.title}}: {{listing.data.score}}</h1> from /r/{{listing.data.subreddit}} by {{listing.data.author}} with {{listing.data.num_comments}} total comments
            <p>{{listing.data.topComment}}</p>
        </div> -->
        <div id="reddit-comments-chart"></div>
        <div class="reddit-results-column">
            <div class='md-padding' layout="column" layout-wrap>
                <md-card class="reddit-card" ng-repeat="comment in reddit.topcomments | orderBy: '-score' ">
                    <div class="reddit-card-content-container">
                        <h5>"{{comment.body}}"</h5> -{{comment.author}} in <a target="_blank" ng-href="http://www.reddit.com/r/{{comment.subreddit}}">/r/{{comment.subreddit}}</a> Score: {{comment.score}}
                    </div>
                </md-card>
            </div>
        </div>
    </div>

    <div class="twitter-results-column">
        <!-- <div class="col-xs-12" id="results"> -->
        <div class='md-padding' layout = "column" layout-wrap>
            <md-card class="twitter-card" ng-repeat="t in tweets | orderBy: '-user.followers_count' | limitTo: '10' ">

                <div class="col-xs-2 col-sm-1">
                    <img ng-src="{{t.user.profile_image_url}}" class="img-circle">
                </div>
                <div class="col-xs-10 col-sm-11">
                    <small>{{t.user.name}}: {{t.user.followers_count}} followers</small>
                    <br> <span ng-bind-html="t.text"></span>
                    <br> <span>RTs: {{t.retweet_count}} | Favs: {{t.favorite_count}}</span>
                </div>

            </md-card>

            <div ng-show="rateLimitError">
                Rate limit reached. You are making too many requests.
            </div>
        </div>
    </div>

    </body>
</html>